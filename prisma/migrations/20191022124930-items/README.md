# Migration `20191022124930-items`

This migration has been generated by Jonathan Van Buren at 10/22/2019, 12:49:30 PM.
You can check out the [state of the datamodel](./datamodel.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "sas"."Item" (
  "category" text NOT NULL DEFAULT 'VEHICLES' ,
  "count" integer NOT NULL DEFAULT 0 ,
  "description" text NOT NULL DEFAULT '' ,
  "id" text NOT NULL  ,
  "name" text NOT NULL DEFAULT '' ,
  PRIMARY KEY ("id")
);

CREATE UNIQUE INDEX "Item.name" ON "sas"."Item"("name")
```

## Changes

```diff
diff --git datamodel.mdl datamodel.mdl
migration ..20191022124930-items
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,26 @@
+datasource db {
+  provider = "postgresql"
+  url      = "postgresql://admin:admin@localhost:5432/postgres?schema=sas"
+}
+
+generator photon {
+  provider = "photonjs"
+}
+
+enum Category {
+  VEHICLES
+  FUEL
+  FIREARMS
+  AMMUNITION
+  BODY_ARMOUR
+  RATIONS
+  COMMUNICATIONS
+}
+
+model Item {
+  id String @default(cuid()) @id
+  name String @unique
+  description String
+  category Category
+  count Int
+}
```

## Photon Usage

You can use a specific Photon built for this migration (20191022124930-items)
in your `before` or `after` migration script like this:

```ts
import Photon from '@generated/photon/20191022124930-items'

const photon = new Photon()

async function main() {
  const result = await photon.users()
  console.dir(result, { depth: null })
}

main()

```
